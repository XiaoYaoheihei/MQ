# Pulsar整体基本介绍

## 说说自己的认识

对于MQ，我的第一认识其实就是一个生产者---消费者模型（发布--订阅者模型），生产者具体生产消息，消费者具体消费消息。Pulsar是灵活的发布-订阅消息系统，我觉得最根本的模型是不会改变的。

![基础模型](/home/xiaoyao/desktop/MQ/pulsar/photos/基础模型.png)

## 官方介绍

### Apache Pulsar 是灵活的**发布-订阅消息系统**（Flexible Pub/Sub messaging），采用**分层分片架构**。

****

### 突出的几大特性

1.租户和命名空间（namespace）是 Pulsar 支持多租户的两个核心概念。

2.灵活的消息系统

Pulsar 做了**队列模型**和**流模型**的统一，在 Topic 级别只需保存一份数据，同一份数据可多次消费。以流式、队列等方式计算不同的订阅模型大大提升了灵活度。

**队列模型仅仅只做message的传送，流模型来做message或者是data的统计，分析等处理工作（广义来看其实就是计算）。**

3.云原生架构

云原生架构最大的特点就是——计算与存储分离，pulsar就是采用了这种架构方式。简单来说，数据从 **Broker （pulsar层的实例）**搬离，存在共享存储内部。上层是**无状态 Broker**，复制消息分发和服务；下层是**持久化的存储层 Bookie 集群**（Bookkeeper层的节点）。Pulsar 存储是分片的，这种构架可以避免扩容时受限制，实现数据的独立扩展和快速恢复。

```
Q：什么是无状态的？
```



4.分片流

说说我的理解：**pulsar这个system整体的底层存储是十分复杂的，他会把数据分片分散存储在Bookie集群，Broker节点上。但是用户不必关心具体的存储细节，给用户提供一个API，用户操作数据的时候是无感的。**

5.跨地域复制

pulsar中的一个特色就是他将消息永远持久化存储，不像kafka隔一段时间就会清空消息（尽管初学的我感觉kafka的做法是更高效的）。他的跨地域复制是将 Pulsar 中持久化的消息在多个集群间备份。

## 基本组件介绍

### 多层级存储





### Pulsar IO（connector)--连接器





### Pulsar Functions--轻量级的计算框架